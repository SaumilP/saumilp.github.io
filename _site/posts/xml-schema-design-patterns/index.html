<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en-us">

  <head>
  <link href="http://gmpg.org/xfn/11" rel="profile">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta http-equiv="content-type" content="text/html; charset=utf-8">

  <!-- Enable responsiveness on mobile devices-->
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">

  <title>
    
      XML Schema Design Patterns &middot; Saumil Patel
    
  </title>

  <!-- CSS -->
  <link rel="stylesheet" href="/assets/css/all.min.css">
  <!--
  <link rel="stylesheet" href="/assets/css/poole.css">
  <link rel="stylesheet" href="/assets/css/syntax.css">
  <link rel="stylesheet" href="/assets/css/lanyon.css">
  <link rel="stylesheet" href="/assets/css/custom.css">
  -->
  <link rel="stylesheet" href="http://fonts.googleapis.com/css?family=PT+Serif:400,400italic,700%7CPT+Sans:400">

  <!-- Icons -->
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/assets/apple-touch-icon-precomposed.png">
  <link rel="shortcut icon" href="/assets/favicon.ico">

  <!-- RSS -->
  <link rel="alternate" type="application/rss+xml" title="RSS" href="/atom.xml">

  <link rel="canonical" href="/posts/xml-schema-design-patterns/" />

  <script async src="//ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="/bower_components/jquery/dist/jquery.min.js"><\/script>')</script>

</head>


  <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-59409595-1', 'auto');
  ga('send', 'pageview');

</script>


  <body class="theme-base-08">

    <!-- Target for toggling the sidebar `.sidebar-checkbox` is for regular
     styles, `#sidebar-checkbox` for behavior. -->
<input type="checkbox" class="sidebar-checkbox" id="sidebar-checkbox">

<!-- Toggleable sidebar -->
<div class="sidebar" id="sidebar">
  <br>
  <div class="smallerCircularProfilePic"></div>

  <div class="sidebar-item" style="text-align:center">
    <p>Code, Thoughts and Ideas</p>
  </div>

  <nav class="sidebar-nav" style="text-align:center">
    <a class="sidebar-nav-item" href="/">Home</a>

    

    
    
      
    
      
        
          <a class="sidebar-nav-item" href="/about.html">About Me</a>
        
      
    
      
        
          <a class="sidebar-nav-item" href="/archive.html">Archive</a>
        
      
    
      
    
      
        
      
    
      
        
          <a class="sidebar-nav-item" href="/about/index.html">About</a>
        
      
    
      
    
      
        
          <a class="sidebar-nav-item" href="/tags.html">Tags</a>
        
      
    
      
        
      
    

<!--     <a class="sidebar-nav-item" href="https://github.com/SaumilP/archive/v.zip">Download</a> -->
    <!--<a class="sidebar-nav-item" href="https://github.com/SaumilP">GitHub project</a>-->
    <a class="sidebar-nav-item" target="_blank" href="">Feedback</a>
  </nav>

  <div class="sidebar-item" style="text-align:center">
    <p>
      <span id="ga-totalpageviews"></span>
    </p>

    <p>
      &copy; 2015. Saumil Patel.
    </p>
      All rights reserved.
  </div>
</div>


    <!-- Wrap is the content to shift when toggling the sidebar. We wrap the
         content to avoid any CSS collisions with our real content. -->
    <div class="wrap">
      <div class="masthead">
        <div class="container" style="text-align:center">
          <h3 class="masthead-title">
            <a href="/" title="Home">codeground</a>
            <small>coding.isFun()</small>
          </h3>
        </div>
      </div>

      <div class="container content">
        <div class="page">
  <h1 class="page-title">XML Schema Design Patterns</h1>
  <p>This might be one of the old topic - specially when lot of developers are working with RESTful Services, but i would like to point out couple of pros and cons. </p>

<p>As most of the developers know, XML schema is very powerful, but they lack object-orientation, and are intended to capture a data model rather than an object model. In last one and half decades, there has been few tools available to architects and developers to be able to make use off some of the object orientation principles - like polymorphism for flexibility. But ultimately the whole point of the services must be general enough that it can communicate across languages. Hence i have attempted to put together some information around some of the very well known Design patterns.</p>

<p>Some of the XML Schema design patterns include Russian Doll, Venetian Blind &amp; Salami Slice.</p>

<h3 id="russian-doll">Russian Doll</h3>
<hr />
<p>Let us have a look at Russian Doll Design pattern. As name indicates - this design pattern permits single global root element which contains constituent types. All element declarations are nested inside the root element, and can therefore only be used once in within the context.</p>

<p>Some of the characteristics of this pattern are:</p>

<ul>
  <li>It has a single global root Element</li>
  <li>All the types are local</li>
  <li>It supports only schemas designed in a single file</li>
  <li>Exposed schema is fully encapsulated</li>
  <li>It has high cohesion with minimal coupling</li>
  <li>Easy to read and write</li>
</ul>

<p>One of the ceavet while considering this patter, do not use this pattern when you would want to reuse types.
Enough with the theory, letâ€™s have a look at the example.</p>

<p><img src="http://saumilp.github.io/assets/images/russian_doll.png" alt="Russian Doll XSD" /></p>

<p>Equivalent Xml Schema Document can be found below:</p>

<div class="highlight"><pre><code class="language-xml" data-lang="xml"><span class="cp">&lt;?xml version=&quot;1.0&quot;?&gt;</span>
<span class="cp">&lt;?xml-stylesheet href=&quot;../2008/09/xsd.xsl&quot; type=&quot;text/xsl&quot;?&gt;</span>
<span class="nt">&lt;xs:schema</span> <span class="na">targetNamespace=</span><span class="s">&quot;http://www.w3.org/XML/1998/namespace&quot;</span> <span class="na">xml:lang=</span><span class="s">&quot;en&quot;</span> <span class="na">xmlns=</span><span class="s">&quot;http://www.w3.org/1999/xhtml&quot;</span> <span class="na">xmlns:xs=</span><span class="s">&quot;http://www.w3.org/2001/XMLSchema&quot;</span><span class="nt">&gt;</span>
	<span class="nt">&lt;xs:annotation&gt;</span>
		<span class="nt">&lt;xs:documentation&gt;</span>Schema using Russian Doll Pattern<span class="nt">&lt;/xs:documentation&gt;</span>
	<span class="nt">&lt;/xs:annotation&gt;</span>
	<span class="nt">&lt;xs:element</span> <span class="na">name=</span><span class="s">&quot;Production&quot;</span><span class="nt">&gt;</span>
		<span class="nt">&lt;xs:complexType&gt;</span>
			<span class="nt">&lt;xs:sequence&gt;</span>
				<span class="nt">&lt;xs:element</span> <span class="na">name=</span><span class="s">&quot;Name&quot;</span> <span class="na">type=</span><span class="s">&quot;xs:string&quot;</span> <span class="nt">/&gt;</span>
				<span class="nt">&lt;xs:element</span> <span class="na">name=</span><span class="s">&quot;Type&quot;</span><span class="nt">&gt;</span>
					<span class="nt">&lt;xs:simpleType&gt;</span>
						<span class="nt">&lt;xs:restriction</span> <span class="na">base=</span><span class="s">&quot;xs:string&quot;</span><span class="nt">&gt;</span>
							<span class="nt">&lt;xs:enumeration</span> <span class="na">value=</span><span class="s">&quot;TheatrePlay&quot;</span> <span class="nt">/&gt;</span>
							<span class="nt">&lt;xs:enumeration</span> <span class="na">value=</span><span class="s">&quot;Movie&quot;</span> <span class="nt">/&gt;</span>
							<span class="nt">&lt;xs:enumeration</span> <span class="na">value=</span><span class="s">&quot;MusicAlbum&quot;</span> <span class="nt">/&gt;</span>
						<span class="nt">&lt;/xs:restriction&gt;</span>
					<span class="nt">&lt;/xs:simpleType&gt;</span>
				<span class="nt">&lt;/xs:element&gt;</span>
				<span class="nt">&lt;xs:element</span> <span class="na">name=</span><span class="s">&quot;Producers&quot;</span> <span class="na">minOccurs=</span><span class="s">&quot;1&quot;</span> <span class="na">maxOccurs=</span><span class="s">&quot;unbounded&quot;</span> <span class="nt">&gt;</span>
					<span class="nt">&lt;xs:complexType&gt;</span>
						<span class="nt">&lt;xs:sequence&gt;</span>
							<span class="nt">&lt;xs:element</span> <span class="na">name=</span><span class="s">&quot;Name&quot;</span> <span class="na">type=</span><span class="s">&quot;xs:string&quot;</span> <span class="nt">/&gt;</span>
							<span class="nt">&lt;xs:element</span> <span class="na">name=</span><span class="s">&quot;ExecutiveProducer&quot;</span> <span class="na">type=</span><span class="s">&quot;xs:string&quot;</span> <span class="na">minOccurs=</span><span class="s">&quot;1&quot;</span> <span class="na">maxOccurs=</span><span class="s">&quot;unbounded&quot;</span> <span class="nt">/&gt;</span>
						<span class="nt">&lt;/xs:sequence&gt;</span>
					<span class="nt">&lt;/xs:complexType&gt;</span>
				<span class="nt">&lt;/xs:element&gt;</span>
				<span class="nt">&lt;xs:element</span> <span class="na">name=</span><span class="s">&quot;Writers&quot;</span> <span class="na">minOccurs=</span><span class="s">&quot;1&quot;</span> <span class="na">maxOccurs=</span><span class="s">&quot;unbounded&quot;</span> <span class="nt">&gt;</span>
					<span class="nt">&lt;xs:complexType&gt;</span>
						<span class="nt">&lt;xs:sequence&gt;</span>
							<span class="nt">&lt;xs:element</span> <span class="na">name=</span><span class="s">&quot;Name&quot;</span> <span class="na">type=</span><span class="s">&quot;xs:string&quot;</span> <span class="nt">/&gt;</span>
							<span class="nt">&lt;xs:element</span> <span class="na">name=</span><span class="s">&quot;Scene&quot;</span> <span class="na">type=</span><span class="s">&quot;xs:string&quot;</span> <span class="na">minOccurs=</span><span class="s">&quot;1&quot;</span> <span class="na">maxOccurs=</span><span class="s">&quot;unbounded&quot;</span> <span class="nt">/&gt;</span>
						<span class="nt">&lt;/xs:sequence&gt;</span>
					<span class="nt">&lt;/xs:complexType&gt;</span>
				<span class="nt">&lt;/xs:element&gt;</span>
				<span class="nt">&lt;xs:element</span> <span class="na">name=</span><span class="s">&quot;Nominations&quot;</span> <span class="na">minOccurs=</span><span class="s">&quot;1&quot;</span> <span class="na">maxOccurs=</span><span class="s">&quot;unbounded&quot;</span><span class="nt">&gt;</span>
					<span class="nt">&lt;xs:complexType&gt;</span>
						<span class="nt">&lt;xs:sequence&gt;</span>
							<span class="nt">&lt;xs:element</span> <span class="na">name=</span><span class="s">&quot;Category&quot;</span> <span class="na">type=</span><span class="s">&quot;xs:string&quot;</span> <span class="na">minOccurs=</span><span class="s">&quot;1&quot;</span> <span class="na">maxOccurs=</span><span class="s">&quot;unbounded&quot;</span> <span class="nt">/&gt;</span>
							<span class="nt">&lt;xs:element</span> <span class="na">name=</span><span class="s">&quot;Year&quot;</span> <span class="na">type=</span><span class="s">&quot;xs:int&quot;</span> <span class="nt">/&gt;</span>
							<span class="nt">&lt;xs:element</span> <span class="na">name=</span><span class="s">&quot;Actor&quot;</span> <span class="na">minOccurs=</span><span class="s">&quot;1&quot;</span> <span class="na">maxOccurs=</span><span class="s">&quot;unbounded&quot;</span><span class="nt">&gt;</span>
								<span class="nt">&lt;xs:complexType&gt;</span>
									<span class="nt">&lt;xs:sequence&gt;</span>
										<span class="nt">&lt;xs:element</span> <span class="na">name=</span><span class="s">&quot;Name&quot;</span> <span class="na">type=</span><span class="s">&quot;xs:string&quot;</span> <span class="nt">/&gt;</span>
										<span class="nt">&lt;xs:element</span> <span class="na">name=</span><span class="s">&quot;Role&quot;</span> <span class="na">type=</span><span class="s">&quot;xs:string&quot;</span> <span class="na">minOccurs=</span><span class="s">&quot;1&quot;</span> <span class="na">maxOccurs=</span><span class="s">&quot;unbounded&quot;</span> <span class="nt">/&gt;</span>
									<span class="nt">&lt;/xs:sequence&gt;</span>
								<span class="nt">&lt;/xs:complexType&gt;</span>
							<span class="nt">&lt;/xs:element&gt;</span>
						<span class="nt">&lt;/xs:sequence&gt;</span>
					<span class="nt">&lt;/xs:complexType&gt;</span>
				<span class="nt">&lt;/xs:element&gt;</span>
				<span class="nt">&lt;xs:element</span> <span class="na">name=</span><span class="s">&quot;Cast&quot;</span> <span class="na">minOccurs=</span><span class="s">&quot;1&quot;</span> <span class="na">maxOccurs=</span><span class="s">&quot;unbounded&quot;</span><span class="nt">&gt;</span>
					<span class="nt">&lt;xs:complexType&gt;</span>
						<span class="nt">&lt;xs:sequence&gt;</span>
							<span class="nt">&lt;xs:element</span> <span class="na">name=</span><span class="s">&quot;ActorName&quot;</span> <span class="na">type=</span><span class="s">&quot;xs:string&quot;</span> <span class="nt">/&gt;</span>
							<span class="nt">&lt;xs:element</span> <span class="na">name=</span><span class="s">&quot;CastingRole&quot;</span> <span class="na">type=</span><span class="s">&quot;xs:string&quot;</span> <span class="na">minOccurs=</span><span class="s">&quot;1&quot;</span> <span class="na">maxOccurs=</span><span class="s">&quot;unbounded&quot;</span> <span class="nt">/&gt;</span>
							<span class="nt">&lt;xs:element</span> <span class="na">name=</span><span class="s">&quot;CastingName&quot;</span> <span class="na">type=</span><span class="s">&quot;xs:string&quot;</span> <span class="nt">/&gt;</span>
						<span class="nt">&lt;/xs:sequence&gt;</span>
					<span class="nt">&lt;/xs:complexType&gt;</span>
				<span class="nt">&lt;/xs:element&gt;</span>
			<span class="nt">&lt;/xs:sequence&gt;</span>
		<span class="nt">&lt;/xs:complexType&gt;</span>
	<span class="nt">&lt;/xs:element&gt;</span>
<span class="nt">&lt;/xs:schema&gt;</span></code></pre></div>

<p>As you can see, above schema defines a single global element <string>Production</string> and it is easy to read and write because there is no mixing. The types required to create a production element are all the nested within it. Elements and types cannot be referenced, and Namespaces are localized. And because it is self-contained, changing types will not affect other schemas.</p>

<p>One of the biggest disadvantages of this pattern with respect to straight XML is that the types you carefully defined cannot be reused elsewhere, hence causing very large schema. </p>

<p>This design pattern is perhaps an appropriate design to use when wrapping legacy data from a source that is fairly static.</p>

<h3 id="salami-slice">Salami Slice</h3>
<hr />
<p>This pattern represents opposite end of the design spectrum from Russian Doll.</p>

<p>By using this pattern, use can declare all the elements as global, but declare all types locally. Pattern is named as Salami Slice because of the ability to set all the elements in global namespace and to make them reusable - which acts as a single definition <strong>slice</strong>. These slices can be used to combined with others for better reusablility.</p>

<p>With this pattern, schema can have more components, all defined individually - which are then brought together into global elements. This pattern is entirely open, allowing a wide variety of possible combinations compared to its counter part pattern Russian Doll - which is absolutely rigid and inflexible. Physical structure of the Russian Doll allows only one way to put the constituents toghether, while slices offer no guidance for how they might be arranged in schema.</p>

<p>Some of the characteristics of this pattern are:</p>

<ul>
  <li>All elements are global</li>
  <li>All elements are defined within global namespace</li>
  <li>All types are local</li>
  <li>Element declarations are never nested</li>
  <li>Element declarations are reusable.</li>
  <li>It is difficult to determine intended root element, as there can be many potential choices.</li>
</ul>

<p>Example from Russian Doll has been redesigned and represented differently with salami slice:
<img src="http://saumilp.github.io/assets/images/salami_slice_2015_02_09.png" alt="Salami Slice XSD" /></p>

<p>Equivalent Xml Schema Document can be found below:</p>

<div class="highlight"><pre><code class="language-xml" data-lang="xml"><span class="cp">&lt;?xml version=&quot;1.0&quot;?&gt;</span>
<span class="cp">&lt;?xml-stylesheet href=&quot;../2008/09/xsd.xsl&quot; type=&quot;text/xsl&quot;?&gt;</span>
<span class="nt">&lt;xs:schema</span> <span class="na">targetNamespace=</span><span class="s">&quot;http://www.w3.org/XML/1998/namespace&quot;</span> <span class="na">xml:lang=</span><span class="s">&quot;en&quot;</span> <span class="na">xmlns=</span><span class="s">&quot;http://www.w3.org/1999/xhtml&quot;</span> <span class="na">xmlns:xs=</span><span class="s">&quot;http://www.w3.org/2001/XMLSchema&quot;</span> <span class="na">xmlns:tns=</span><span class="s">&quot;http://design.pattern.org/salami&quot;</span> <span class="na">elementFormDefault=</span><span class="s">&quot;qualified&quot;</span><span class="nt">&gt;</span>
	<span class="nt">&lt;xs:annotation&gt;</span>
		<span class="nt">&lt;xs:documentation&gt;</span>Schema using Salami Slice Design Pattern<span class="nt">&lt;/xs:documentation&gt;</span>
	<span class="nt">&lt;/xs:annotation&gt;</span>
	<span class="nt">&lt;xs:complexType</span> <span class="na">name=</span><span class="s">&quot;ProducerType&quot;</span><span class="nt">&gt;</span>
		<span class="nt">&lt;xs:sequence&gt;</span>
			<span class="nt">&lt;xs:element</span> <span class="na">name=</span><span class="s">&quot;Name&quot;</span> <span class="na">type=</span><span class="s">&quot;xs:string&quot;</span> <span class="nt">/&gt;</span>
			<span class="nt">&lt;xs:element</span> <span class="na">name=</span><span class="s">&quot;ExecutiveProducer&quot;</span> <span class="na">type=</span><span class="s">&quot;xs:string&quot;</span> <span class="na">minOccurs=</span><span class="s">&quot;1&quot;</span> <span class="na">maxOccurs=</span><span class="s">&quot;unbounded&quot;</span> <span class="nt">/&gt;</span>
		<span class="nt">&lt;/xs:sequence&gt;</span>
	<span class="nt">&lt;/xs:complexType&gt;</span>
	<span class="nt">&lt;xs:complexType</span> <span class="na">name=</span><span class="s">&quot;CastType&quot;</span><span class="nt">&gt;</span>
		<span class="nt">&lt;xs:sequence&gt;</span>
			<span class="nt">&lt;xs:element</span> <span class="na">name=</span><span class="s">&quot;ActorName&quot;</span> <span class="na">type=</span><span class="s">&quot;xs:string&quot;</span> <span class="nt">/&gt;</span>
			<span class="nt">&lt;xs:element</span> <span class="na">name=</span><span class="s">&quot;CastingRole&quot;</span> <span class="na">type=</span><span class="s">&quot;xs:string&quot;</span> <span class="na">minOccurs=</span><span class="s">&quot;1&quot;</span> <span class="na">maxOccurs=</span><span class="s">&quot;unbounded&quot;</span> <span class="nt">/&gt;</span>
			<span class="nt">&lt;xs:element</span> <span class="na">name=</span><span class="s">&quot;CastingName&quot;</span> <span class="na">type=</span><span class="s">&quot;xs:string&quot;</span> <span class="nt">/&gt;</span>
		<span class="nt">&lt;/xs:sequence&gt;</span>
	<span class="nt">&lt;/xs:complexType&gt;</span>
	<span class="nt">&lt;xs:complexType</span> <span class="na">name=</span><span class="s">&quot;NominationType&quot;</span><span class="nt">&gt;</span>
		<span class="nt">&lt;xs:sequence&gt;</span>
			<span class="nt">&lt;xs:element</span> <span class="na">name=</span><span class="s">&quot;Category&quot;</span> <span class="na">type=</span><span class="s">&quot;xs:string&quot;</span> <span class="na">minOccurs=</span><span class="s">&quot;1&quot;</span> <span class="na">maxOccurs=</span><span class="s">&quot;unbounded&quot;</span> <span class="nt">/&gt;</span>
			<span class="nt">&lt;xs:element</span> <span class="na">name=</span><span class="s">&quot;Year&quot;</span> <span class="na">type=</span><span class="s">&quot;xs:int&quot;</span> <span class="nt">/&gt;</span>
			<span class="nt">&lt;xs:element</span> <span class="na">name=</span><span class="s">&quot;Actor&quot;</span> <span class="na">minOccurs=</span><span class="s">&quot;1&quot;</span> <span class="na">maxOccurs=</span><span class="s">&quot;unbounded&quot;</span><span class="nt">&gt;</span>
				<span class="nt">&lt;xs:complexType&gt;</span>
					<span class="nt">&lt;xs:sequence&gt;</span>
						<span class="nt">&lt;xs:element</span> <span class="na">name=</span><span class="s">&quot;Name&quot;</span> <span class="na">type=</span><span class="s">&quot;xs:string&quot;</span> <span class="nt">/&gt;</span>
						<span class="nt">&lt;xs:element</span> <span class="na">name=</span><span class="s">&quot;Role&quot;</span> <span class="na">type=</span><span class="s">&quot;xs:string&quot;</span> <span class="na">minOccurs=</span><span class="s">&quot;1&quot;</span> <span class="na">maxOccurs=</span><span class="s">&quot;unbounded&quot;</span> <span class="nt">/&gt;</span>
					<span class="nt">&lt;/xs:sequence&gt;</span>
				<span class="nt">&lt;/xs:complexType&gt;</span>
			<span class="nt">&lt;/xs:element&gt;</span>
		<span class="nt">&lt;/xs:sequence&gt;</span>
	<span class="nt">&lt;/xs:complexType&gt;</span>
	<span class="nt">&lt;xs:complexType</span> <span class="na">name=</span><span class="s">&quot;WriterType&quot;</span><span class="nt">&gt;</span>
		<span class="nt">&lt;xs:sequence&gt;</span>
			<span class="nt">&lt;xs:element</span> <span class="na">name=</span><span class="s">&quot;Name&quot;</span> <span class="na">type=</span><span class="s">&quot;xs:string&quot;</span> <span class="nt">/&gt;</span>
			<span class="nt">&lt;xs:element</span> <span class="na">name=</span><span class="s">&quot;Scene&quot;</span> <span class="na">type=</span><span class="s">&quot;xs:string&quot;</span> <span class="na">minOccurs=</span><span class="s">&quot;1&quot;</span> <span class="na">maxOccurs=</span><span class="s">&quot;unbounded&quot;</span> <span class="nt">/&gt;</span>
		<span class="nt">&lt;/xs:sequence&gt;</span>
	<span class="nt">&lt;/xs:complexType&gt;</span>
	<span class="nt">&lt;xs:element</span> <span class="na">name=</span><span class="s">&quot;Name&quot;</span> <span class="na">type=</span><span class="s">&quot;xs:string&quot;</span> <span class="nt">/&gt;</span>
	<span class="nt">&lt;xs:element</span> <span class="na">name=</span><span class="s">&quot;Producers&quot;</span> <span class="na">type=</span><span class="s">&quot;xml:ProducerType&quot;</span> <span class="nt">/&gt;</span>
	<span class="nt">&lt;xs:element</span> <span class="na">name=</span><span class="s">&quot;Writers&quot;</span> <span class="na">type=</span><span class="s">&quot;xml:WriterType&quot;</span> <span class="nt">/&gt;</span>
	<span class="nt">&lt;xs:element</span> <span class="na">name=</span><span class="s">&quot;Nominations&quot;</span> <span class="na">type=</span><span class="s">&quot;xml:NominationType&quot;</span> <span class="nt">/&gt;</span>
	<span class="nt">&lt;xs:element</span> <span class="na">name=</span><span class="s">&quot;Performer&quot;</span> <span class="na">type=</span><span class="s">&quot;xml:CastType&quot;</span> <span class="nt">/&gt;</span>
	<span class="nt">&lt;xs:element</span> <span class="na">name=</span><span class="s">&quot;Director&quot;</span> <span class="na">type=</span><span class="s">&quot;xs:string&quot;</span> <span class="nt">/&gt;</span>
	<span class="nt">&lt;xs:element</span> <span class="na">name=</span><span class="s">&quot;Production&quot;</span><span class="nt">&gt;</span>
		<span class="nt">&lt;xs:complexType&gt;</span>
			<span class="nt">&lt;xs:sequence&gt;</span>
				<span class="nt">&lt;xs:element</span> <span class="na">ref=</span><span class="s">&quot;xml:Name&quot;</span> <span class="nt">/&gt;</span>
				<span class="nt">&lt;xs:element</span> <span class="na">name=</span><span class="s">&quot;Type&quot;</span><span class="nt">&gt;</span>
					<span class="nt">&lt;xs:simpleType&gt;</span>
						<span class="nt">&lt;xs:restriction</span> <span class="na">base=</span><span class="s">&quot;xs:string&quot;</span><span class="nt">&gt;</span>
							<span class="nt">&lt;xs:enumeration</span> <span class="na">value=</span><span class="s">&quot;TheatrePlay&quot;</span> <span class="nt">/&gt;</span>
							<span class="nt">&lt;xs:enumeration</span> <span class="na">value=</span><span class="s">&quot;Movie&quot;</span> <span class="nt">/&gt;</span>
							<span class="nt">&lt;xs:enumeration</span> <span class="na">value=</span><span class="s">&quot;MusicAlbum&quot;</span> <span class="nt">/&gt;</span>
						<span class="nt">&lt;/xs:restriction&gt;</span>
					<span class="nt">&lt;/xs:simpleType&gt;</span>
				<span class="nt">&lt;/xs:element&gt;</span>
				<span class="nt">&lt;xs:element</span> <span class="na">ref=</span><span class="s">&quot;xml:Producers&quot;</span> <span class="nt">/&gt;</span>
				<span class="nt">&lt;xs:element</span> <span class="na">ref=</span><span class="s">&quot;xml:Writers&quot;</span> <span class="nt">/&gt;</span>
				<span class="nt">&lt;xs:element</span> <span class="na">ref=</span><span class="s">&quot;xml:Nominations&quot;</span> <span class="nt">/&gt;</span>
				<span class="nt">&lt;xs:element</span> <span class="na">ref=</span><span class="s">&quot;xml:Director&quot;</span> <span class="nt">/&gt;</span>
				<span class="nt">&lt;xs:element</span> <span class="na">ref=</span><span class="s">&quot;xml:Performer&quot;</span> <span class="nt">/&gt;</span>
			<span class="nt">&lt;/xs:sequence&gt;</span>
		<span class="nt">&lt;/xs:complexType&gt;</span>
	<span class="nt">&lt;/xs:element&gt;</span>
<span class="nt">&lt;/xs:schema&gt;</span></code></pre></div>

<p>The main advantage of this pattern is that becuase the elements are declared globally, schema is reusable. But because changing an element affects the composing elements, this pattern is considered tightly coupled.</p>

<p>This schema design pattern are verbose and are clearly arranged and flat.</p>

<h3 id="venetian-blind">Venetian Blind</h3>
<hr />
<p>This pattern is an extension of Russian Doll Pattern. It contains only one signle global root element. It departs from Russian Doll in that it allows for reuse of all the types as well asd the global root element.</p>

<p>Use of this pattern means that schema designer wants to define a single global root element for instanciantion and compose it with externally defined types. This has the benefit of miximiizing reuse.</p>

<p>Some of the characteristics of this pattern are:</p>

<ul>
  <li>It has a single global root element</li>
  <li>It mixes global and local declarations</li>
  <li>It has high cohesion but also high coupling</li>
  <li>It maximizes reuse of all the types.</li>
  <li>Encapsulation is limited due to types being exposed.</li>
  <li>It allows designers to use multiple files to define schema</li>
  <li>It is verbose. Breaking apart each type in a way provides very selective, granular control over each individual aspect on the element, but makes for a lot of typing.</li>
</ul>

<p>Original Example from Russian Doll has been redesigned and represented differently with salami slice:
<img src="http://saumilp.github.io/assets/images/venetian_blind_2015_02_09.png" alt="Venetian Blind XSD" /></p>

<p>Equivalent Xml Schema Document can be found below:</p>

<div class="highlight"><pre><code class="language-xml" data-lang="xml"><span class="cp">&lt;?xml version=&quot;1.0&quot;?&gt;</span>
<span class="cp">&lt;?xml-stylesheet href=&quot;../2008/09/xsd.xsl&quot; type=&quot;text/xsl&quot;?&gt;</span>
<span class="nt">&lt;xs:schema</span> <span class="na">targetNamespace=</span><span class="s">&quot;http://www.w3.org/XML/1998/namespace&quot;</span> <span class="na">xml:lang=</span><span class="s">&quot;en&quot;</span> <span class="na">xmlns=</span><span class="s">&quot;http://www.w3.org/1999/xhtml&quot;</span> <span class="na">xmlns:xs=</span><span class="s">&quot;http://www.w3.org/2001/XMLSchema&quot;</span> <span class="na">xmlns:tns=</span><span class="s">&quot;http://design.pattern.org/salami&quot;</span> <span class="na">elementFormDefault=</span><span class="s">&quot;qualified&quot;</span><span class="nt">&gt;</span>
	<span class="nt">&lt;xs:annotation&gt;</span>
		<span class="nt">&lt;xs:documentation&gt;</span>Schema using Venetian Blind Design Pattern<span class="nt">&lt;/xs:documentation&gt;</span>
	<span class="nt">&lt;/xs:annotation&gt;</span>
	<span class="nt">&lt;xs:complexType</span> <span class="na">name=</span><span class="s">&quot;ProducerType&quot;</span><span class="nt">&gt;</span>
		<span class="nt">&lt;xs:sequence&gt;</span>
			<span class="nt">&lt;xs:element</span> <span class="na">name=</span><span class="s">&quot;Name&quot;</span> <span class="na">type=</span><span class="s">&quot;xs:string&quot;</span> <span class="nt">/&gt;</span>
			<span class="nt">&lt;xs:element</span> <span class="na">name=</span><span class="s">&quot;ExecutiveProducer&quot;</span> <span class="na">type=</span><span class="s">&quot;xs:string&quot;</span> <span class="na">minOccurs=</span><span class="s">&quot;1&quot;</span> <span class="na">maxOccurs=</span><span class="s">&quot;unbounded&quot;</span> <span class="nt">/&gt;</span>
		<span class="nt">&lt;/xs:sequence&gt;</span>
	<span class="nt">&lt;/xs:complexType&gt;</span>
	<span class="nt">&lt;xs:complexType</span> <span class="na">name=</span><span class="s">&quot;CastType&quot;</span><span class="nt">&gt;</span>
		<span class="nt">&lt;xs:sequence&gt;</span>
			<span class="nt">&lt;xs:element</span> <span class="na">name=</span><span class="s">&quot;ActorName&quot;</span> <span class="na">type=</span><span class="s">&quot;xs:string&quot;</span> <span class="nt">/&gt;</span>
			<span class="nt">&lt;xs:element</span> <span class="na">name=</span><span class="s">&quot;CastingRole&quot;</span> <span class="na">type=</span><span class="s">&quot;xs:string&quot;</span> <span class="na">minOccurs=</span><span class="s">&quot;1&quot;</span> <span class="na">maxOccurs=</span><span class="s">&quot;unbounded&quot;</span> <span class="nt">/&gt;</span>
			<span class="nt">&lt;xs:element</span> <span class="na">name=</span><span class="s">&quot;CastingName&quot;</span> <span class="na">type=</span><span class="s">&quot;xs:string&quot;</span> <span class="nt">/&gt;</span>
		<span class="nt">&lt;/xs:sequence&gt;</span>
	<span class="nt">&lt;/xs:complexType&gt;</span>
	<span class="nt">&lt;xs:complexType</span> <span class="na">name=</span><span class="s">&quot;NominationType&quot;</span><span class="nt">&gt;</span>
		<span class="nt">&lt;xs:sequence&gt;</span>
			<span class="nt">&lt;xs:element</span> <span class="na">name=</span><span class="s">&quot;Category&quot;</span> <span class="na">type=</span><span class="s">&quot;xs:string&quot;</span> <span class="na">minOccurs=</span><span class="s">&quot;1&quot;</span> <span class="na">maxOccurs=</span><span class="s">&quot;unbounded&quot;</span> <span class="nt">/&gt;</span>
			<span class="nt">&lt;xs:element</span> <span class="na">name=</span><span class="s">&quot;Year&quot;</span> <span class="na">type=</span><span class="s">&quot;xs:int&quot;</span> <span class="nt">/&gt;</span>
			<span class="nt">&lt;xs:element</span> <span class="na">name=</span><span class="s">&quot;Actor&quot;</span> <span class="na">minOccurs=</span><span class="s">&quot;1&quot;</span> <span class="na">maxOccurs=</span><span class="s">&quot;unbounded&quot;</span><span class="nt">&gt;</span>
				<span class="nt">&lt;xs:complexType&gt;</span>
					<span class="nt">&lt;xs:sequence&gt;</span>
						<span class="nt">&lt;xs:element</span> <span class="na">name=</span><span class="s">&quot;Name&quot;</span> <span class="na">type=</span><span class="s">&quot;xs:string&quot;</span> <span class="nt">/&gt;</span>
						<span class="nt">&lt;xs:element</span> <span class="na">name=</span><span class="s">&quot;Role&quot;</span> <span class="na">type=</span><span class="s">&quot;xs:string&quot;</span> <span class="na">minOccurs=</span><span class="s">&quot;1&quot;</span> <span class="na">maxOccurs=</span><span class="s">&quot;unbounded&quot;</span> <span class="nt">/&gt;</span>
					<span class="nt">&lt;/xs:sequence&gt;</span>
				<span class="nt">&lt;/xs:complexType&gt;</span>
			<span class="nt">&lt;/xs:element&gt;</span>
		<span class="nt">&lt;/xs:sequence&gt;</span>
	<span class="nt">&lt;/xs:complexType&gt;</span>
	<span class="nt">&lt;xs:complexType</span> <span class="na">name=</span><span class="s">&quot;WriterType&quot;</span><span class="nt">&gt;</span>
		<span class="nt">&lt;xs:sequence&gt;</span>
			<span class="nt">&lt;xs:element</span> <span class="na">name=</span><span class="s">&quot;Name&quot;</span> <span class="na">type=</span><span class="s">&quot;xs:string&quot;</span> <span class="nt">/&gt;</span>
			<span class="nt">&lt;xs:element</span> <span class="na">name=</span><span class="s">&quot;Scene&quot;</span> <span class="na">type=</span><span class="s">&quot;xs:string&quot;</span> <span class="na">minOccurs=</span><span class="s">&quot;1&quot;</span> <span class="na">maxOccurs=</span><span class="s">&quot;unbounded&quot;</span> <span class="nt">/&gt;</span>
		<span class="nt">&lt;/xs:sequence&gt;</span>
	<span class="nt">&lt;/xs:complexType&gt;</span>
	<span class="nt">&lt;xs:element</span> <span class="na">name=</span><span class="s">&quot;Name&quot;</span> <span class="na">type=</span><span class="s">&quot;xs:string&quot;</span> <span class="nt">/&gt;</span>
	<span class="nt">&lt;xs:element</span> <span class="na">name=</span><span class="s">&quot;Producers&quot;</span> <span class="na">type=</span><span class="s">&quot;xml:ProducerType&quot;</span> <span class="nt">/&gt;</span>
	<span class="nt">&lt;xs:element</span> <span class="na">name=</span><span class="s">&quot;Writers&quot;</span> <span class="na">type=</span><span class="s">&quot;xml:WriterType&quot;</span> <span class="nt">/&gt;</span>
	<span class="nt">&lt;xs:element</span> <span class="na">name=</span><span class="s">&quot;Nominations&quot;</span> <span class="na">type=</span><span class="s">&quot;xml:NominationType&quot;</span> <span class="nt">/&gt;</span>
	<span class="nt">&lt;xs:element</span> <span class="na">name=</span><span class="s">&quot;Performer&quot;</span> <span class="na">type=</span><span class="s">&quot;xml:CastType&quot;</span> <span class="nt">/&gt;</span>
	<span class="nt">&lt;xs:element</span> <span class="na">name=</span><span class="s">&quot;Director&quot;</span> <span class="na">type=</span><span class="s">&quot;xs:string&quot;</span> <span class="nt">/&gt;</span>
	<span class="nt">&lt;xs:element</span> <span class="na">name=</span><span class="s">&quot;Production&quot;</span><span class="nt">&gt;</span>
		<span class="nt">&lt;xs:complexType&gt;</span>
			<span class="nt">&lt;xs:sequence&gt;</span>
				<span class="nt">&lt;xs:element</span> <span class="na">ref=</span><span class="s">&quot;xml:Name&quot;</span> <span class="nt">/&gt;</span>
				<span class="nt">&lt;xs:element</span> <span class="na">name=</span><span class="s">&quot;Type&quot;</span><span class="nt">&gt;</span>
					<span class="nt">&lt;xs:simpleType&gt;</span>
						<span class="nt">&lt;xs:restriction</span> <span class="na">base=</span><span class="s">&quot;xs:string&quot;</span><span class="nt">&gt;</span>
							<span class="nt">&lt;xs:enumeration</span> <span class="na">value=</span><span class="s">&quot;TheatrePlay&quot;</span> <span class="nt">/&gt;</span>
							<span class="nt">&lt;xs:enumeration</span> <span class="na">value=</span><span class="s">&quot;Movie&quot;</span> <span class="nt">/&gt;</span>
							<span class="nt">&lt;xs:enumeration</span> <span class="na">value=</span><span class="s">&quot;MusicAlbum&quot;</span> <span class="nt">/&gt;</span>
						<span class="nt">&lt;/xs:restriction&gt;</span>
					<span class="nt">&lt;/xs:simpleType&gt;</span>
				<span class="nt">&lt;/xs:element&gt;</span>
				<span class="nt">&lt;xs:element</span> <span class="na">ref=</span><span class="s">&quot;xml:Producers&quot;</span> <span class="nt">/&gt;</span>
				<span class="nt">&lt;xs:element</span> <span class="na">ref=</span><span class="s">&quot;xml:Writers&quot;</span> <span class="nt">/&gt;</span>
				<span class="nt">&lt;xs:element</span> <span class="na">ref=</span><span class="s">&quot;xml:Nominations&quot;</span> <span class="nt">/&gt;</span>
				<span class="nt">&lt;xs:element</span> <span class="na">ref=</span><span class="s">&quot;xml:Director&quot;</span> <span class="nt">/&gt;</span>
				<span class="nt">&lt;xs:element</span> <span class="na">ref=</span><span class="s">&quot;xml:Performer&quot;</span> <span class="nt">/&gt;</span>
			<span class="nt">&lt;/xs:sequence&gt;</span>
		<span class="nt">&lt;/xs:complexType&gt;</span>
	<span class="nt">&lt;/xs:element&gt;</span>
<span class="nt">&lt;/xs:schema&gt;</span></code></pre></div>

<p>Because this pattern has more flexibiliy, it is de-facto design pattern during XML Design pattern. There are several other patterns - like Garden of Eden and Chameleon - make uses of these basic patterns to solve other issues. I will try and attend rest of the patterns in next part.</p>

</div>


        
  <!-- Add Disqus comments. -->
  <div id="disqus_thread"></div>
  <script type="text/javascript">
      /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
      var disqus_shortname = 'SaumilP';

      /* * * DON'T EDIT BELOW THIS LINE * * */
      (function() {
          var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
          dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
          (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
      })();
  </script>
  <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
  <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>



      </div>
    </div>

    <label for="sidebar-checkbox" class="sidebar-toggle"></label>

    <script>
      (function(document) {
        var toggle = document.querySelector('.sidebar-toggle');
        var sidebar = document.querySelector('#sidebar');
        var checkbox = document.querySelector('#sidebar-checkbox');

        document.addEventListener('click', function(e) {
          var target = e.target;

          if(!checkbox.checked ||
             sidebar.contains(target) ||
             (target === checkbox || target === toggle)) return;

          checkbox.checked = false;
        }, false);
      })(document);
    </script>

    <script>
    var jqxhr = $.ajax("")
          .done(function(response) {
              if (response !== undefined) {
                var page_url = "/posts/xml-schema-design-patterns/";
                var page_views = undefined;
                var total_views = undefined;
                var oPageViews = {};

                var total_views = response.totalsForAllResults['ga:pageviews'];

                var pagePathIndex;
                var pageViewsIndex;

                function findColumnHeaders(element, index, array) {
                  switch (element.name) {
                    case "ga:pagePath":
                      pagePathIndex = index;
                      return;
                    case "ga:pageviews":
                      pageViewsIndex = index;
                      return;
                  }
                }

                response.columnHeaders.forEach(findColumnHeaders);

                if (total_views !== undefined && total_views !== null &&  $("#ga-totalpageviews-div")) {
                    $("#ga-totalpageviews").html("Views: " + total_views);
                }

                if (response.rows !== undefined) {
                  jQuery.each(response.rows, function(index, row){
                      var ga_page_url = row[pagePathIndex];
                      if (page_url.lastIndexOf("/") === (page_url.length - 1)) {
                        page_url = page_url + "index.html";
                      }
                      if (ga_page_url === page_url) {
                          page_views = row[pageViewsIndex];
                          if (page_views !== undefined && page_views !== null && $("#ga-pageviews-div")) {
                              $("#ga-pageviews").html("Views: " + page_views);
                          }
                      }

                      oPageViews[ga_page_url] = row[pageViewsIndex];

                  });

                  $('span[data-post-url]').each(function(index) {
                    var dataPostUrl = $(this).attr("data-post-url");
                    if (dataPostUrl.lastIndexOf("/") === (dataPostUrl.length - 1)) {
                      dataPostUrl = dataPostUrl + "index.html";
                    }

                    if (oPageViews[dataPostUrl] !== undefined && oPageViews[dataPostUrl] !== null ) {
                      $(this).html("Views: " + oPageViews[dataPostUrl]);
                    }

                  });
                }
              }
          })
          .fail(function(error) {
              console.log( "Failed to get GA data" );
          });
</script>


  </body>
</html>
